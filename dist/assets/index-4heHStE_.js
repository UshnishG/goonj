import{r as e,a as t}from"./vendor-liIMdADX.js";import{o as s,i as r,g as a,a as l,G as o,s as i,b as n,c,d,q as m,w as x,e as u,f as h}from"./firebase-KnVqlkGi.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var p={exports:{}},g={},y=e,b=Symbol.for("react.element"),f=Symbol.for("react.fragment"),j=Object.prototype.hasOwnProperty,v=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,s){var r,a={},l=null,o=null;for(r in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(o=t.ref),t)j.call(t,r)&&!N.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:b,type:e,key:l,ref:o,props:a,_owner:v.current}}g.Fragment=f,g.jsx=w,g.jsxs=w,p.exports=g;var k,C=p.exports,A=t;k=A.createRoot,A.hydrateRoot;const S={items:[],total:0},T=e=>e.reduce(((e,t)=>e+.5*t.book.price*t.quantity),0),P=(e,t)=>{switch(t.type){case"ADD_TO_CART":{let s;return s=e.items.find((e=>e.book.id===t.payload.id))?e.items.map((e=>e.book.id===t.payload.id?{...e,quantity:e.quantity+1}:e)):[...e.items,{book:t.payload,quantity:1}],{items:s,total:T(s)}}case"REMOVE_FROM_CART":{const s=e.items.filter((e=>e.book.id!==t.payload));return{items:s,total:T(s)}}case"UPDATE_QUANTITY":{const s=e.items.map((e=>e.book.id===t.payload.id?{...e,quantity:Math.max(0,t.payload.quantity)}:e)).filter((e=>e.quantity>0));return{items:s,total:T(s)}}case"CLEAR_CART":return S;default:return e}},E=e.createContext(void 0),M=({children:t})=>{const[s,r]=e.useReducer(P,S);return C.jsx(E.Provider,{value:{state:s,dispatch:r},children:t})},O=()=>{const t=e.useContext(E);if(void 0===t)throw new Error("useCart must be used within a CartProvider");return t};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function L(e,t,s,r){return new(s||(s=Promise))((function(t,a){function l(e){try{i(r.next(e))}catch(t){a(t)}}function o(e){try{i(r.throw(e))}catch(t){a(t)}}function i(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(l,o)}i((r=r.apply(e,[])).next())}))}function q(e,t){var s,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(i){l=[6,i],r=0}finally{s=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R=function(){return R=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},R.apply(this,arguments)},D=function(e){return{loading:null==e,value:e}},F=function(t){var s=t?t():void 0,r=e.useReducer((function(e,t){switch(t.type){case"error":return R(R({},e),{error:t.error,loading:!1,value:void 0});case"reset":return D(t.defaultValue);case"value":return R(R({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),D(s)),a=r[0],l=r[1],o=e.useCallback((function(){var e=t?t():void 0;l({type:"reset",defaultValue:e})}),[t]),i=e.useCallback((function(e){l({type:"error",error:e})}),[]),n=e.useCallback((function(e){l({type:"value",value:e})}),[]);return e.useMemo((function(){return{error:a.error,loading:a.loading,reset:o,setError:i,setValue:n,value:a.value}}),[a.error,a.loading,o,i,n,a.value])};const _=r({apiKey:"AIzaSyBWlEqmL87LHbGkV4jms18FKFftLtZm9js",authDomain:"login-goonj.firebaseapp.com",projectId:"login-goonj",storageBucket:"login-goonj.firebasestorage.app",messagingSenderId:"687651179178",appId:"1:687651179178:web:145e88571901e8dff41ed3",measurementId:"G-HQLN9MNGWB"}),I=a(_),B=l(_),z=new o,G=e.createContext(void 0),V=({children:t})=>{const[r,a]=function(t,r){var a=F((function(){return t.currentUser})),l=a.error,o=a.loading,i=a.setError,n=a.setValue,c=a.value;return e.useEffect((function(){var e=s(t,(function(e){return L(void 0,0,void 0,(function(){var t;return q(this,(function(s){switch(s.label){case 0:return[3,4];case 1:return s.trys.push([1,3,,4]),[4,r.onUserChanged(e)];case 2:return s.sent(),[3,4];case 3:return t=s.sent(),i(t),[3,4];case 4:return n(e),[2]}}))}))}),i);return function(){e()}}),[t]),[c,o,l]}(I),[l,o]=e.useState(null);e.useEffect((()=>{o(r?{uid:r.uid,email:r.email||"",displayName:r.displayName||"",photoURL:r.photoURL||void 0}:null)}),[r]);return C.jsx(G.Provider,{value:{user:l,loading:a,signInWithGoogle:async()=>{try{await i(I,z)}catch(e){console.error("Error signing in with Google:",e)}},logout:async()=>{try{await n(I)}catch(e){console.error("Error signing out:",e)}}},children:t})},H=()=>{const t=e.useContext(G);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(t,s)=>{const r=e.forwardRef((({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:i="",children:n,...c},d)=>{return e.createElement("svg",{ref:d,...U,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:["lucide",`lucide-${m=t,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,i].join(" "),...c},[...s.map((([t,s])=>e.createElement(t,s))),...Array.isArray(n)?n:[n]]);var m}));return r.displayName=`${t}`,r},$=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Y=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),J=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),K=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Z=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Q=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),X=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ee=W("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),te=W("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),se=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),re=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ae=W("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),le=W("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),oe=W("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ie=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ne=W("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),ce=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),de=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),me=({onOrdersClick:t})=>{const{user:s,logout:r}=H(),[a,l]=e.useState(!1);if(!s)return null;return C.jsxs("div",{className:"relative",children:[C.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors",children:[C.jsx("span",{className:"hidden md:block font-medium",children:s.displayName}),C.jsx(J,{className:"h-4 w-4"})]}),a&&C.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[C.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[C.jsx("p",{className:"font-medium text-gray-900",children:s.displayName}),C.jsx("p",{className:"text-sm text-gray-500",children:s.email})]}),C.jsxs("button",{onClick:()=>{t(),l(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[C.jsx(te,{className:"h-4 w-4"}),C.jsx("span",{children:"My Orders"})]}),C.jsxs("button",{onClick:async()=>{try{await r(),l(!1)}catch(e){console.error("Logout failed:",e)}},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[C.jsx(X,{className:"h-4 w-4"}),C.jsx("span",{children:"Sign Out"})]})]})]})},xe=({isOpen:e,onClose:t})=>{const{signInWithGoogle:s,loading:r}=H();if(!e)return null;return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full mx-4",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign In"}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:C.jsx(ce,{className:"h-6 w-6"})})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("p",{className:"text-gray-600 mb-6",children:"Sign in to your account to track orders and manage your library"}),C.jsxs("button",{onClick:async()=>{try{await s(),t()}catch(e){console.error("Sign in failed:",e)}},disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white py-3 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[C.jsx(Q,{className:"h-5 w-5"}),C.jsx("span",{children:r?"Signing in...":"Continue with Google"})]}),C.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})]})})},ue=({searchTerm:t,onSearchChange:s,onCartClick:r,onOrdersClick:a,currentView:l})=>{const{state:o}=O(),{user:i}=H(),[n,c]=e.useState(!1),d=o.items.reduce(((e,t)=>e+t.quantity),0);return C.jsxs(C.Fragment,{children:[C.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:C.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between h-auto sm:h-16 py-2 sm:py-0 gap-2 sm:gap-0",children:[C.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-center sm:justify-start",children:[C.jsx("div",{className:"flex items-center justify-center",children:C.jsx("img",{src:"/logo.png",alt:"Goonj Library",className:"h-10 w-10 sm:h-12 sm:w-12 brightness-0"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Goonj Library"}),C.jsx("p",{className:"text-xs sm:text-xs text-gray-500",children:"Knowledge for Everyone"})]})]}),"books"===l&&C.jsx("div",{className:"w-full sm:flex-1 max-w-full sm:max-w-md mx-0 sm:mx-8 mt-2 sm:mt-0",children:C.jsxs("div",{className:"relative",children:[C.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),C.jsx("input",{type:"text",placeholder:"Search books, authors, categories...",value:t,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-800 focus:border-transparent text-sm"})]})}),C.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto justify-center sm:justify-end mt-2 sm:mt-0",children:[C.jsxs("button",{onClick:r,className:"relative p-2 text-gray-600 hover:text-amber-800 transition-colors",children:[C.jsx(le,{className:"h-6 w-6"}),d>0&&C.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-800 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:d})]}),i?C.jsx(me,{onOrdersClick:a}):C.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 text-gray-700 hover:text-amber-800 transition-colors text-sm",children:[C.jsx(Q,{className:"h-5 w-5"}),C.jsx("span",{className:"hidden md:block",children:"Sign In"})]})]})]})})}),C.jsx(xe,{isOpen:n,onClose:()=>c(!1)})]})},he=({book:t})=>{const{dispatch:s}=O(),{user:r}=H(),[a,l]=e.useState(!1),o=.5*t.price;return C.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[C.jsxs("div",{className:"relative",children:[C.jsx("img",{src:t.image,alt:t.title,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),C.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-amber-800 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"50% OFF"})]}),C.jsxs("div",{className:"p-3 sm:p-4",children:[C.jsx("div",{className:"mb-2",children:C.jsx("span",{className:"inline-block bg-amber-100 text-amber-800 text-xs px-2 py-1 rounded-full",children:t.category})}),C.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1 line-clamp-2",children:t.title}),C.jsxs("p",{className:"text-gray-600 text-xs sm:text-sm mb-2",children:["by ",t.author]}),C.jsx("p",{className:"text-gray-700 text-xs sm:text-sm mb-3 line-clamp-2",children:t.description}),C.jsx("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-500 mb-3",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx(K,{className:"h-4 w-4 mr-1"}),C.jsxs("span",{children:[t.pages," pages"]})]})}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsxs("span",{className:"text-gray-400 line-through text-xs sm:text-sm",children:["â‚¹",t.price]}),C.jsxs("span",{className:"text-lg sm:text-xl font-bold text-green-600",children:["â‚¹",o]})]}),C.jsxs("button",{onClick:()=>{r?s({type:"ADD_TO_CART",payload:t}):l(!0)},className:"bg-amber-800 hover:bg-amber-900 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200 text-xs sm:text-sm",children:[C.jsx(se,{className:"h-4 w-4"}),C.jsx("span",{children:"Add to Cart"})]})]})]}),C.jsx(xe,{isOpen:a,onClose:()=>l(!1)})]})},pe=({books:t,searchTerm:s})=>{const[r,a]=e.useState("all"),[l,o]=e.useState("title"),i=e.useMemo((()=>["all",...Array.from(new Set(t.map((e=>e.category))))]),[t]),n=e.useMemo((()=>t.filter((e=>{const t=""===s||e.title.toLowerCase().includes(s.toLowerCase())||e.author.toLowerCase().includes(s.toLowerCase())||e.category.toLowerCase().includes(s.toLowerCase()),a="all"===r||e.category===r;return t&&a})).sort(((e,t)=>{switch(l){case"price":return e.price-t.price;case"author":return e.author.localeCompare(t.author);default:return e.title.localeCompare(t.title)}}))),[t,s,r,l]);return C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[C.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:i.map((e=>C.jsx("button",{onClick:()=>a(e),className:"px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-colors "+(r===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"all"===e?"All Books":e},e)))}),C.jsxs("select",{value:l,onChange:e=>o(e.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm w-full sm:w-auto",children:[C.jsx("option",{value:"title",children:"Sort by Title"}),C.jsx("option",{value:"price",children:"Sort by Price"}),C.jsx("option",{value:"author",children:"Sort by Author"})]})]}),C.jsx("div",{className:"mb-6",children:C.jsxs("p",{className:"text-gray-600 text-xs sm:text-base",children:["Showing ",n.length," of ",t.length," books",s&&` for "${s}"`]})}),n.length>0?C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:n.map((e=>C.jsx(he,{book:e},e.id)))}):C.jsxs("div",{className:"text-center py-12",children:[C.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ“š"}),C.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No books found"}),C.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})},ge=({onBackToBooks:e,onProceedToCheckout:t})=>{const{state:s,dispatch:r}=O(),a=(e,t)=>{r({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})};return 0===s.items.length?C.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:C.jsxs("div",{className:"text-center py-12",children:[C.jsx(ae,{className:"mx-auto h-24 w-24 text-gray-300 mb-4"}),C.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Your cart is empty"}),C.jsx("p",{className:"text-gray-500 mb-6",children:"Discover our amazing collection of books"}),C.jsx("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Browse Books"})]})}):C.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"flex items-center justify-between mb-8",children:[C.jsxs("button",{onClick:e,className:"flex items-center text-blue-600 hover:text-blue-700 transition-colors",children:[C.jsx($,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]}),C.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),C.jsx("button",{onClick:()=>{r({type:"CLEAR_CART"})},className:"text-red-600 hover:text-red-700 transition-colors",children:"Clear All"})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[C.jsx("div",{className:"divide-y divide-gray-200",children:s.items.map((e=>{const t=.5*e.book.price;return C.jsxs("div",{className:"p-6 flex items-center space-x-4",children:[C.jsx("img",{src:e.book.image,alt:e.book.title,className:"w-20 h-20 object-cover rounded-lg"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:e.book.title}),C.jsxs("p",{className:"text-gray-600",children:["by ",e.book.author]}),C.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["â‚¹",e.book.price]}),C.jsxs("span",{className:"text-green-600 font-semibold",children:["â‚¹",t]}),C.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"50% OFF"})]})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("button",{onClick:()=>a(e.book.id,e.quantity-1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:C.jsx(ee,{className:"h-4 w-4 text-gray-600"})}),C.jsx("span",{className:"w-8 text-center font-semibold",children:e.quantity}),C.jsx("button",{onClick:()=>a(e.book.id,e.quantity+1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:C.jsx(se,{className:"h-4 w-4 text-gray-600"})})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("p",{className:"font-semibold text-lg",children:["â‚¹",(t*e.quantity).toFixed(2)]}),C.jsx("button",{onClick:()=>{return t=e.book.id,void r({type:"REMOVE_FROM_CART",payload:t});var t},className:"text-red-600 hover:text-red-700 transition-colors mt-2",children:C.jsx(ie,{className:"h-4 w-4"})})]})]},e.book.id)}))}),C.jsxs("div",{className:"bg-gray-50 p-6",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("span",{className:"text-lg font-semibold",children:"Total Items:"}),C.jsx("span",{className:"text-lg",children:s.items.reduce(((e,t)=>e+t.quantity),0)})]}),C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("span",{className:"text-xl font-bold",children:"Total Amount:"}),C.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["â‚¹",s.total.toFixed(2)]})]}),C.jsx("button",{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition-colors",children:"Proceed to Checkout"})]})]})]})},ye=async(e,t,s,r,a)=>{try{const l={userId:e,items:t,total:s,address:r,paymentMethod:a,status:"pending",createdAt:new Date,updatedAt:new Date};return(await c(d(B,"orders"),l)).id}catch(l){throw console.error("Error creating order:",l),l}},be=async(e,t,s,r,a,l)=>{try{if(!(await new Promise((e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}))))throw new Error("Razorpay SDK failed to load");const o=await(async e=>new Promise((t=>{setTimeout((()=>{t({id:`order_${Date.now()}`,amount:100*e})}),1e3)})))(e),i={key:"rzp_test_1234567890",amount:o.amount,currency:"INR",name:"Goonj Library",description:"Book Purchase",order_id:o.id,handler:a,prefill:{name:s,email:t,contact:r},theme:{color:"#1e40af"}},n=new window.Razorpay(i);n.on("payment.failed",l),n.open()}catch(o){l(o)}},fe=({onBackToCart:t})=>{var s,r,a,l;const{state:o,dispatch:i}=O(),{user:n}=H(),[c,d]=e.useState("address"),[m,x]=e.useState(!1),[u,h]=e.useState({fullName:"",phone:"",address:"",city:"",state:"",pincode:""}),[p,g]=e.useState({type:"cod"}),[y,b]=e.useState(!1);return"confirmation"===c?C.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[C.jsx(Y,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),C.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Placed Successfully!"}),C.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your order. Your books will be delivered to your address within 3-5 business days."}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[C.jsxs("p",{className:"text-sm text-gray-600",children:["Order ID: #GNJ",Date.now().toString().slice(-6)]}),C.jsxs("p",{className:"text-lg font-semibold",children:["Total: â‚¹",o.total.toFixed(2)]})]}),C.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Continue Shopping"})]})}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"flex items-center mb-8",children:[C.jsxs("button",{onClick:"address"===c?t:()=>d("address"),className:"flex items-center text-blue-600 hover:text-blue-700 transition-colors",children:[C.jsx($,{className:"h-4 w-4 mr-2"}),"address"===c?"Back to Cart":"Back to Address"]}),C.jsx("h1",{className:"text-3xl font-bold text-gray-900 ml-8",children:"Checkout"})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"lg:col-span-2",children:["address"===c&&C.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Delivery Address"}),C.jsxs("form",{onSubmit:e=>{e.preventDefault(),n?d("payment"):x(!0)},className:"space-y-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),C.jsx("input",{type:"text",required:!0,value:u.fullName,onChange:e=>h({...u,fullName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),C.jsx("input",{type:"tel",required:!0,value:u.phone,onChange:e=>h({...u,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),C.jsx("textarea",{required:!0,rows:3,value:u.address,onChange:e=>h({...u,address:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),C.jsx("input",{type:"text",required:!0,value:u.city,onChange:e=>h({...u,city:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),C.jsx("input",{type:"text",required:!0,value:u.state,onChange:e=>h({...u,state:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),C.jsx("input",{type:"text",required:!0,value:u.pincode,onChange:e=>h({...u,pincode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),C.jsx("button",{type:"submit",disabled:!Object.values(u).every((e=>""!==e.trim())),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white py-3 rounded-lg font-semibold transition-colors",children:"Continue to Payment"})]})]}),"payment"===c&&C.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Payment Method"}),C.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n){b(!0);try{if("razorpay"===p.type)await be(o.total,n.email,n.displayName,u.phone,(async e=>{await ye(n.uid,o.items,o.total,u,p);i({type:"CLEAR_CART"}),d("confirmation"),b(!1)}),(e=>{console.error("Payment failed:",e),b(!1),alert("Payment failed. Please try again.")}));else{await ye(n.uid,o.items,o.total,u,p);i({type:"CLEAR_CART"}),d("confirmation"),b(!1)}}catch(t){console.error("Order creation failed:",t),b(!1),alert("Order creation failed. Please try again.")}}else x(!0)},className:"space-y-6",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"radio",id:"razorpay",name:"payment",checked:"razorpay"===p.type,onChange:()=>g({type:"razorpay"}),className:"mr-3"}),C.jsxs("label",{htmlFor:"razorpay",className:"flex items-center cursor-pointer",children:[C.jsx(de,{className:"h-5 w-5 mr-2 text-blue-600"}),"Pay with Razorpay (UPI, Cards, Wallets)"]})]}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"radio",id:"cod",name:"payment",checked:"cod"===p.type,onChange:()=>g({type:"cod"}),className:"mr-3"}),C.jsxs("label",{htmlFor:"cod",className:"flex items-center cursor-pointer",children:[C.jsx(ne,{className:"h-5 w-5 mr-2 text-green-600"}),"Cash on Delivery"]})]}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"radio",id:"upi",name:"payment",checked:"upi"===p.type,onChange:()=>g({type:"upi",details:{upiId:""}}),className:"mr-3"}),C.jsxs("label",{htmlFor:"upi",className:"flex items-center cursor-pointer",children:[C.jsx(oe,{className:"h-5 w-5 mr-2 text-blue-600"}),"UPI Payment"]})]}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"radio",id:"card",name:"payment",checked:"card"===p.type,onChange:()=>g({type:"card",details:{cardNumber:"",expiryDate:"",cvv:""}}),className:"mr-3"}),C.jsxs("label",{htmlFor:"card",className:"flex items-center cursor-pointer",children:[C.jsx(Z,{className:"h-5 w-5 mr-2 text-purple-600"}),"Credit/Debit Card"]})]})]}),"upi"===p.type&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID *"}),C.jsx("input",{type:"text",required:!0,placeholder:"example@upi",value:(null==(s=p.details)?void 0:s.upiId)||"",onChange:e=>g({...p,details:{...p.details,upiId:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),"card"===p.type&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),C.jsx("input",{type:"text",required:!0,placeholder:"1234 5678 9012 3456",value:(null==(r=p.details)?void 0:r.cardNumber)||"",onChange:e=>g({...p,details:{...p.details,cardNumber:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date *"}),C.jsx("input",{type:"text",required:!0,placeholder:"MM/YY",value:(null==(a=p.details)?void 0:a.expiryDate)||"",onChange:e=>g({...p,details:{...p.details,expiryDate:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),C.jsx("input",{type:"text",required:!0,placeholder:"123",value:(null==(l=p.details)?void 0:l.cvv)||"",onChange:e=>g({...p,details:{...p.details,cvv:e.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),C.jsx("button",{type:"submit",disabled:!("cod"===p.type||"razorpay"===p.type||("upi"===p.type?""!==(null==(j=null==(f=p.details)?void 0:f.upiId)?void 0:j.trim()):"card"===p.type&&(null==(v=p.details)?void 0:v.cardNumber)&&(null==(N=p.details)?void 0:N.expiryDate)&&(null==(w=p.details)?void 0:w.cvv)))||y,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-3 rounded-lg font-semibold transition-colors",children:y?"Processing...":`Place Order - â‚¹${o.total.toFixed(2)}`})]})]})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 h-fit",children:[C.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Order Summary"}),C.jsx("div",{className:"space-y-3",children:o.items.map((e=>C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsxs("span",{children:[e.book.title," Ã— ",e.quantity]}),C.jsxs("span",{children:["â‚¹",(.5*e.book.price*e.quantity).toFixed(2)]})]},e.book.id)))}),C.jsxs("div",{className:"border-t pt-4 mt-4",children:[C.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[C.jsx("span",{children:"Total"}),C.jsxs("span",{className:"text-green-600",children:["â‚¹",o.total.toFixed(2)]})]}),C.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["You saved â‚¹",(o.items.reduce(((e,t)=>e+t.book.price*t.quantity),0)-o.total).toFixed(2)," with 50% discount!"]})]})]})]})]}),C.jsx(xe,{isOpen:m,onClose:()=>x(!1)})]});var f,j,v,N,w},je=({onBack:t})=>{const{user:s}=H(),[r,a]=e.useState([]),[l,o]=e.useState(!0),[i,n]=e.useState(null);e.useEffect((()=>{(async()=>{if(s)try{o(!0);const e=await(async e=>{try{const t=m(d(B,"orders"),x("userId","==",e),u("createdAt","desc")),s=await h(t),r=[];return s.forEach((e=>{r.push({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate(),updatedAt:e.data().updatedAt.toDate()})})),r}catch(i){throw console.error("Error fetching user orders:",i),i}})(s.uid);a(e)}catch(e){n("Failed to fetch orders"),console.error("Error fetching orders:",e)}finally{o(!1)}})()}),[s]);const c=e=>{switch(e){case"pending":return C.jsx(K,{className:"h-5 w-5 text-yellow-500"});case"confirmed":return C.jsx(Y,{className:"h-5 w-5 text-blue-500"});case"shipped":return C.jsx(ne,{className:"h-5 w-5 text-purple-500"});case"delivered":return C.jsx(te,{className:"h-5 w-5 text-green-500"});case"cancelled":return C.jsx(ce,{className:"h-5 w-5 text-red-500"});default:return C.jsx(K,{className:"h-5 w-5 text-gray-500"})}},p=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?C.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:C.jsxs("div",{className:"text-center py-12",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),C.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your orders..."})]})}):C.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"flex items-center mb-8",children:[C.jsxs("button",{onClick:t,className:"flex items-center text-blue-600 hover:text-blue-700 transition-colors",children:[C.jsx($,{className:"h-4 w-4 mr-2"}),"Back to Books"]}),C.jsx("h1",{className:"text-3xl font-bold text-gray-900 ml-8",children:"My Orders"})]}),i&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:C.jsx("p",{className:"text-red-600",children:i})}),0===r.length?C.jsxs("div",{className:"text-center py-12",children:[C.jsx(te,{className:"mx-auto h-24 w-24 text-gray-300 mb-4"}),C.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No orders yet"}),C.jsx("p",{className:"text-gray-500 mb-6",children:"Start shopping to see your orders here"}),C.jsx("button",{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Browse Books"})]}):C.jsx("div",{className:"space-y-6",children:r.map((e=>C.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[C.jsxs("div",{className:"p-6 border-b border-gray-200",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{children:[C.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.id.slice(-8).toUpperCase()]}),C.jsxs("p",{className:"text-gray-600",children:["Placed on ",e.createdAt.toLocaleDateString()]})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),c(e.status)]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Delivery Address"}),C.jsxs("div",{className:"text-gray-600 text-sm",children:[C.jsx("p",{children:e.address.fullName}),C.jsx("p",{children:e.address.address}),C.jsxs("p",{children:[e.address.city,", ",e.address.state," ",e.address.pincode]}),C.jsx("p",{children:e.address.phone})]})]}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),C.jsx("p",{className:"text-gray-600 text-sm capitalize",children:"cod"===e.paymentMethod.type?"Cash on Delivery":e.paymentMethod.type}),e.trackingNumber&&C.jsxs("div",{className:"mt-2",children:[C.jsx("h4",{className:"font-medium text-gray-900",children:"Tracking Number"}),C.jsx("p",{className:"text-blue-600 font-mono text-sm",children:e.trackingNumber})]})]})]})]}),C.jsxs("div",{className:"p-6",children:[C.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Order Items"}),C.jsx("div",{className:"space-y-3",children:e.items.map((e=>C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("img",{src:e.book.image,alt:e.book.title,className:"w-16 h-16 object-cover rounded-lg"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h5",{className:"font-medium text-gray-900",children:e.book.title}),C.jsxs("p",{className:"text-gray-600 text-sm",children:["by ",e.book.author]}),C.jsxs("p",{className:"text-gray-600 text-sm",children:["Quantity: ",e.quantity]})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("p",{className:"font-semibold",children:["â‚¹",(.5*e.book.price*e.quantity).toFixed(2)]}),C.jsxs("p",{className:"text-gray-400 line-through text-sm",children:["â‚¹",(e.book.price*e.quantity).toFixed(2)]})]})]},e.book.id)))}),C.jsx("div",{className:"border-t pt-4 mt-4",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("span",{className:"text-lg font-semibold",children:"Total Amount"}),C.jsxs("span",{className:"text-xl font-bold text-green-600",children:["â‚¹",e.total.toFixed(2)]})]})})]})]},e.id)))})]})},ve=[{id:1,title:"The Great Gatsby",author:"F. Scott Fitzgerald",category:"Classic Literature",price:299,image:"https://images.pexels.com/photos/1170412/pexels-photo-1170412.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A timeless classic about the American Dream and the Jazz Age.",isbn:"978-0-7432-7356-5",pages:180,language:"English"},{id:2,title:"To Kill a Mockingbird",author:"Harper Lee",category:"Classic Literature",price:349,image:"https://images.pexels.com/photos/1029141/pexels-photo-1029141.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A powerful story of racial injustice and childhood innocence.",isbn:"978-0-06-112008-4",pages:324,language:"English"},{id:3,title:"1984",author:"George Orwell",category:"Dystopian Fiction",price:399,image:"https://images.pexels.com/photos/590493/pexels-photo-590493.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A dystopian masterpiece about totalitarianism and surveillance.",isbn:"978-0-452-28423-4",pages:328,language:"English"},{id:4,title:"Pride and Prejudice",author:"Jane Austen",category:"Romance",price:279,image:"https://images.pexels.com/photos/1029141/pexels-photo-1029141.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A romantic novel about love, class, and society in 19th century England.",isbn:"978-0-14-143951-8",pages:432,language:"English"},{id:5,title:"The Catcher in the Rye",author:"J.D. Salinger",category:"Young Adult",price:329,image:"https://images.pexels.com/photos/1170412/pexels-photo-1170412.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A coming-of-age story about teenage rebellion and alienation.",isbn:"978-0-316-76948-0",pages:277,language:"English"},{id:6,title:"Harry Potter and the Philosopher's Stone",author:"J.K. Rowling",category:"Fantasy",price:450,image:"https://images.pexels.com/photos/590493/pexels-photo-590493.jpeg?auto=compress&cs=tinysrgb&w=400",description:"The magical beginning of Harry Potter's journey at Hogwarts.",isbn:"978-0-439-70818-8",pages:309,language:"English"},{id:7,title:"The Lord of the Rings",author:"J.R.R. Tolkien",category:"Fantasy",price:599,image:"https://images.pexels.com/photos/1029141/pexels-photo-1029141.jpeg?auto=compress&cs=tinysrgb&w=400",description:"An epic fantasy adventure through Middle-earth.",isbn:"978-0-618-64015-7",pages:1216,language:"English"},{id:8,title:"The Alchemist",author:"Paulo Coelho",category:"Philosophy",price:199,image:"https://images.pexels.com/photos/1170412/pexels-photo-1170412.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A philosophical novel about following your dreams.",isbn:"978-0-06-231500-7",pages:163,language:"English"},{id:9,title:"Dune",author:"Frank Herbert",category:"Science Fiction",price:499,image:"https://images.pexels.com/photos/590493/pexels-photo-590493.jpeg?auto=compress&cs=tinysrgb&w=400",description:"A science fiction epic set on the desert planet Arrakis.",isbn:"978-0-441-17271-9",pages:688,language:"English"},{id:10,title:"The Hobbit",author:"J.R.R. Tolkien",category:"Fantasy",price:359,image:"https://images.pexels.com/photos/1029141/pexels-photo-1029141.jpeg?auto=compress&cs=tinysrgb&w=400",description:"Bilbo Baggins' unexpected journey to the Lonely Mountain.",isbn:"978-0-547-92822-7",pages:366,language:"English"}];function Ne(){const[t,s]=e.useState("books"),[r,a]=e.useState(""),[l]=e.useState(ve),o=()=>{s("books")};return C.jsx(V,{children:C.jsx(M,{children:C.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C.jsx(ue,{searchTerm:r,onSearchChange:a,onCartClick:()=>{s("cart"===t?"books":"cart")},onOrdersClick:()=>{s("orders")},currentView:t}),C.jsxs("main",{className:"pb-8",children:["books"===t&&C.jsx(pe,{books:l,searchTerm:r}),"cart"===t&&C.jsx(ge,{onBackToBooks:o,onProceedToCheckout:()=>{s("checkout")}}),"checkout"===t&&C.jsx(fe,{onBackToCart:()=>{s("cart")}}),"orders"===t&&C.jsx(je,{onBack:o})]}),C.jsx("footer",{className:"bg-gray-800 text-white py-8",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[C.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Goonj Library"}),C.jsx("p",{className:"text-gray-400",children:"Spreading knowledge, one book at a time"}),C.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Â© 2024 Goonj Library. All rights reserved."})]})})]})})})}k(document.getElementById("root")).render(C.jsx(e.StrictMode,{children:C.jsx(Ne,{})}));
